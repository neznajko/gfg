########################################################
# Longest alternating subsequence
########################################################
# A sequence {x1, x2, .. xn} is alternating sequence if 
# its elements satisfy one of the following relations:
# x1 < x2 > x3 < x4 > x5 .. or  x1 >x2 < x3 > x4 < x5 ..
# Your task is to find the longest such sequence.
########################################################
# Input: nums = {1,5,4} Output: 3
########################################################
# Input: nums = {1,17,5,10,13,15,10,5,16,8}
# Output: 7
# Explanation: {1,17,10,13,10,16,8}
########################################################
# Expected Time Complexity: O(n)
# Expected Space Complexity: O(1)
########################################################
# Constraints:
# 1 <= n <= 10^5
########################################################
########################################################
########################################################
########################################################
#....===============%%%%%%%%%%%%%%%.....................
#....==            =%            %%.....................
#....=======  ======%%%%%%  %%%%%%%.....................
#....=======  ======%%%%%%  %%%%%%%.....................
#....==            =%            %%.....................
#....=======  ======%%%%%%  %%%%%%%.....................
#....=====  ==  ====%%%%  %%  %%%%%.....................
#....===  ======  ==%%  %%%%%%  %%%.....................
#....@  @@                    55  5.....................
#....@@@@@  @@@@@@@@55555555  55555.....................
#....@@@@@  @@@@@@@@55555555  55555.....................
#....@@@@@                    55555.....................
#....@@@@@  @@@@@@@@55555555  55555.....................
#....@@@@@  @@@@@@@@55555555  55555.....................
#....@@@@@                    55555.....................
#....@@@@@  @@@@@@@@55555555  55555.....................
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
#                                                   タイ
LT = -1
EQ = 0
GT = 1
########################################################
########################################################
########################################################
########################################################
def cmp( w, y ):
    if w == y: return EQ
    if w <  y: return LT
    return GT
########################################################
########################################################
########################################################
########################################################
def alt( a ):
    prev_rel = EQ
    subseq = 1
    for j in range( 1, len( a )):
        rel = cmp( a[j - 1], a[j] )
        if rel != EQ and rel != prev_rel:
            subseq += 1
            prev_rel = rel            
    return subseq
########################################################
########################################################
########################################################
########################################################
class Solution:
    def AlternatingaMaxLength( self, a ):
        return alt( a )
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
if __name__=='__main__':################################
    T=int(input())######################################
    for i in range(T):##################################
        n=int(input())##################################
        nums=list(map(int,input().split()))#############
        ob=Solution()###################################
        ans=ob.AlternatingaMaxLength(nums)##############
        print(ans)######################################
########################################################
########################################################
########################################################
########################################################
# Test Cases Passed:                           110 / 110
# Total Points Scored:                             4 / 4
# Your Total Score:                                 1238
# Total Time Taken:                                 0.38
