################################################################
################################################################
################################################################
################################################################
# Top K Frequent Elements in Array
################################################################
# Given a non-empty array nums[] of integers of length N, find 
# the top k elements which have the highest frequency in the 
# array. If two numbers have same frequencies, then the larger 
# number should be given more preference.
################################################################
# Input: N = 6
#        nums = {1,1,1,2,2,3}
#        k = 2
# Output: {1, 2}
################################################################
# Input: N = 8
#        nums = {1,1,2,2,3,3,3,4}
#        k = 2
# Output: {3, 2}
################################################################
# Expected Time Complexity: O(NlogN)
# Expected Auxilliary Space: O(N)
################################################################
# 1 <= N <= 10^5
# 1 <= nums[i] <=10^5
# 1 <= k <= (Number of distinct elements in the array)
################################################################
################################################################
################################################################
################################################################
class Solution:
    ''''''
    def topK( self, a, k ):
        """"""
        d = {}
        for v in a:
            if v in d:
                d[ v ] += 1
            else:
                d[ v ] = 1

        return sorted( d.keys(), 
                       key=lambda y: ( d[ y ], y ),
                       reverse=True )[ :k ]
################################################################
################################################################
################################################################
################################################################
if __name__ == '__main__': #####################################
    T=int(input()) #############################################
    for i in range(T): #########################################
        a = list(map(int, input().strip().split())) ############
        n = a[0] ###############################################
        nums = a[1:] ###########################################
        k = int(input().strip()) ###############################
        obj = Solution() #######################################
        ans = obj.topK(nums, k) ################################
        for i in ans: ##########################################
            print(i, end = " ") ################################
        print() ################################################
################################################################
################################################################
# (1) スポーツをしますか。Treiben Sie Sport?
#     ぜんぜんません。Überhaupt nicht.
################################################################
# (2) 雑誌を読みませんか。Lesen Sie Zeitschriften?
#     あまりません。Nicht oft. 
################################################################
# (3) 図書館に行きますか。Gehen Sie in die Bibliothek?
#     ぜんぜんません。Überhaupt nicht.
################################################################
# (4) 映画を見ますか。Sehen Sie Filme?
#     あまりません。Nicht oft.
################################################################
# (5) コーヒーを飲みますか。Trinken Sie Kaffee?
#     よくます。Oft.
################################################################
# (6) 日本の音楽を聞きますか。Hören Sie Japanishe Muzik?
#     ときどき。Manchmal.
################################################################
# (7) 朝ご飯を食べますか。Essen Sie Frühstück?
#     ときどき。Manchmal.
################################################################
# Test Cases Passed:                                 1120 / 1120
# Points Scored:                                           4 / 4
# Your Total Score:                                         1814 
# Time Taken:                                               0.22

