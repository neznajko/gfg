// |0|1|2|3|4|5|6|7|8|9|0|1|2|3|4|5|6|7|8|9|0|1|2|3|4|5|6|7|8|
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | |_|_|_| | | | | | | |
// | | |_|_|_|_|_|     |_|_|_|_|_| | | |       | | | | | | | |
// | | |_|_|_|_|_|     |_|_|_|_|_| | |       | | | | | | | | |
// | | |                         | |       | | | | | | | | | |
// | | |_ _ _       _       _ _ _|       | | | | | | | | | | |
// | | |_|_|_|     |_|     |_|_|_| |     |_|_|_|_|_|_|_|_|_| |
// | | |                         | |                       | |
// | | |_ _ _ _ _       _ _ _ _ _| |                       | |
// | | |_|_|_|_|_|     |_|_|_|_|_| |     | | | |     | | | | |
// | | |                         | |     | | | |     | | | | |
// | | |_ _                   _ _| |     | | | |     | | | | |
// | | |_|_|    _       _    |_|_| |     | | | |     | | | | |
// | | |_|    _|_|     |_|_    |_| |     | | | |     | | | | |
// | | |_ _ _|_|_|     |_|_|_ _ _| |     | | | |     | | | | |
// | | |_|_|_|_|_|_ _ _|_|_|_|_|_|     | | | | |     | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// | | |_|_|_|_|_|_|_|_|_|_|_|_|_| | | | | | | | | | | | | | |
// Activity Selection, 新、シン、new
//////////////////////////////////////////////////////////////
// Given N activities with their start and finish day given in 
// array start[] and end[]. Select the maximum number of 
// activities that can be performed by a single person, `
// assuming that a person can only work on a single activity 
// at a given day.                                        ` 
// Note: Duration of the activity includes both starting and 
// ending day.                                              `
//////////////////////////////////////////////////////////////
// Input: N = 2 start[] = {2, 1} end[] = {2, 2}          `
// Output: 1                                              `
// Explanation: A person can perform only one of the given ` 
// activities.                                              ` 
//////////////////////////////////////////////////////////////
// Input: N = 4 start[] = {1, 3, 2, 5} end[] = {2, 4, 3, 6}
// Output: 3                                               `
// Explanation: A person can perform activities 1, 2 and 4. ` 
//////////////////////////////////////////////////////////////
// Expected Time Complexity: O(NlogN)                      `
// Expected Auxilliary Space: O(N)                          `
//////////////////////////////////////////////////////////////
// 1 ≤ N ≤ 2*10^5                                          `
// 1 ≤ start[i] ≤ end[i] ≤ 10^9                             `
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
//// spalt gap knie knee rand edge scheibe disk
//// spalt ||| knie |||| rand |||| scheibe ||||
//// spalt     knie      rand      scheibe
//// spalt     knie      rand      scheibe
//// |||||     ||||      ||||      |||||||
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
class Solution {
    binSearch( key, l, u ){
        while( l <= u ){
            const m = ( l + u ) >> 1;
            if( this.start[m] > key ){
                u = m - 1;
            } else {
                l = m + 1;
            }
        }
        return l;
    }
//////////////////////////////////////////////////////////////
//
//     school     church     town hall   shop
// die Schule die Kirche das Rathaus`die Geschäfte
// ``` uchSle ``` iKrche ``` Ruthaas ``` Gecshäft`
//     Sceulh     Khrcie     sathauR     äeschGft
//     hcSule     Kirehc     Raahtus     Gefchäst
//     Slhuce     riKche     hatRaus     Geschtfa
//     ``````     ``````     ```````     ````````
//
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
//
//          =========================================
//                    ================
//      ----1----2----3----4----5----6----7----8----9----    
//               -----------    ----------------
//
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
    activitySelection( start, end, n ){
        end = end.map(( v, j ) => { return [ start[j], v ]; })
                 .sort(( a, b ) => a[1] - b[1] );
        this.start = start.sort(( a, b ) => a - b );
        // start: 1, 2, 3, 5
        // end: [2,4],[3,6],[5,8],[1,9]
        const u = n - 1;
        let l = 0;
        let c = 0;
        for( const I of end ){
            if( l < n && I[0] >= start[l] ){
                l = this.binSearch( I[1], l, u );
                ++c;
            }
        }
        return c;
    }
}
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
// あしたわたしは｜一人｜でをみます。
// 大｜がくせいですか。
// たんじょ｜日｜はいつですか。
// やまださんのあしは｜大きい｜です。
// おちゃを｜一つ｜ください。
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
const start = [ 3, 2, 5, 1 ];
const end   = [ 6, 4, 8, 9 ];
const n     = start.length;
const solo  = new Solution();
console.log( solo.activitySelection( start, end, n ));
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
////  (1) えんぴつ pencil ￥50 ごじゅえんです。
////  (2) かさ umbrella ￥1,000 せんえんです。
////  (3) しんぶん newspaper ￥110 ひゃくじゅうえんです。
////  (4) ほん book ￥1,500 せんごひゃくえんです。
////  (5) くつ shoes ￥3,500 さんぜんごひゃくえんです。
////  (6) とけい watch ￥10,000 いちまんえんです。
////  (7) かばん bag ￥20,000 にまんえんです。
////  (8) じしょ Dictionary ￥8,000 はっせんえんです。
////  (9) ジーンズ jeans ￥9,000 きゅうえんです。
//// (10) じてんしゃ bicycle ￥25,000 にまんごせんえんです。
//// (11) ノート Notebook ￥450 よんひゃくごじゅえんです。
//// (12) ぼうし hat ￥2,800 にせんはっぴゃくえんです。
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////
// Test Cases Passed:                              1115 / 1115
// Total Points Scored:                                  4 / 4
// Your Total Score:                                      1558
// Total Time Taken:                                      0.97
